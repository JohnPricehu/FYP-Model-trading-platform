{"ast":null,"code":"var _jsxFileName = \"D:\\\\FYP demo\\\\frontend\\\\src\\\\views\\\\sell-goods-page.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\"; // import MainScreen from \"../../components/MainScreen\";\n\nimport { Button, Card, Form } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { createGoodsAction } from \"../actions/goodsActions\";\nimport Loading from \"../components/Loading\";\nimport ErrorMessage from \"../components/ErrorMessage\";\nimport ReactMarkdown from \"react-markdown\";\nimport projectStyles from '../style.module.css';\nimport styles from './sell-goods-page.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CreateGoods(_ref) {\n  _s();\n\n  let {\n    history\n  } = _ref;\n  const [goods_name, setGoods_name] = useState(\"\");\n  const [goods_details, setGoods_details] = useState(\"\");\n  const [goods_category, setGoods_category] = useState(\"\");\n  const [goods_pic, setGoods_pic] = useState(\"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg\");\n  const [picMessage, setPicMessage] = useState(null);\n  const dispatch = useDispatch();\n  const goodsCreate = useSelector(state => state.goodsCreate);\n  const {\n    loading,\n    error,\n    goods\n  } = goodsCreate;\n  console.log(goods);\n\n  const resetHandler = () => {\n    setGoods_name(\"\");\n    setGoods_details(\"\");\n    setGoods_category(\"\");\n    setGoods_pic(\"\");\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(createGoodsAction(goods_name, goods_details, goods_category, goods_pic));\n    if (!goods_name || !goods_details || !goods_category) return;\n    resetHandler();\n    history.push(\"/\");\n  };\n\n  const postDetails = pics => {\n    if (pics === \"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg\") {\n      return setPicMessage(\"Please Select an Image\");\n    }\n\n    setPicMessage(null);\n\n    if (pics.type === \"image/jpeg\" || pics.type === \"image/png\") {\n      const data = new FormData();\n      data.append(\"file\", pics);\n      data.append(\"upload_preset\", \"goods_pic\");\n      data.append(\"cloud_name\", \"fyp2022\");\n      fetch(\"https://api.cloudinary.com/v1_1/fyp2022/image/upload\", {\n        method: \"post\",\n        body: data\n      }).then(res => res.json()).then(data => {\n        setGoods_pic(data.url.toString());\n      }).catch(err => {\n        console.log(err);\n      });\n    } else {\n      return setPicMessage(\"Please Select an Image\");\n    }\n  };\n\n  useEffect(() => {}, []);\n  return (\n    /*#__PURE__*/\n    // <MainScreen title=\"Create a Note\">\n    _jsxDEV(Form, {\n      onSubmit: submitHandler,\n      children: [error && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        variant: \"danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 23\n      }, this), \"return (\", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles['container'],\n        children: [/*#__PURE__*/_jsxDEV(Helmet, {\n          children: [/*#__PURE__*/_jsxDEV(\"title\", {\n            children: \"sellGoodsPage - FYP\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n            property: \"og:title\",\n            content: \"sellGoodsPage - FYP\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: goods_pic,\n          type: \"file\",\n          label: \"Upload Profile Picture\",\n          custom: true,\n          accept: \"image/*\" // placeholder=\"Upload Profile Picture\"\n          ,\n          onChange: e => postDetails(e.target.files[0]),\n          className: ` ${styles['textinput']} ${projectStyles['input']} `\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"image\",\n          src: \"https://play.teleporthq.io/static/svg/default-img.svg\",\n          className: styles['image']\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles['text'],\n          children: \"goods name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: goods_name,\n          placeholder: \"Enter the goods's name\",\n          onChange: e => setGoods_name(e.target.value),\n          className: ` ${styles['textinput1']} ${projectStyles['input']} `\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles['text1'],\n          children: \"goods price:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: goods_price,\n          placeholder: \"Enter the goods's price\",\n          onChange: e => setGoods_price(e.target.value),\n          className: ` ${styles['textinput2']} ${projectStyles['input']} `\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles['text2'],\n          children: \"goods category:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"content\",\n          value: goods_category,\n          placeholder: \"Enter the Category\",\n          onChange: e => setGoods_category(e.target.value),\n          className: ` ${styles['textinput3']} ${projectStyles['input']} `\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles['text3'],\n          children: \"goods details:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: goods_details,\n          placeholder: \"Enter the goods more details\",\n          rows: 4,\n          onChange: e => setGoods_details(e.target.value),\n          className: ` ${styles['textarea']} ${projectStyles['textarea']} `\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 7\n        }, this), goods_details && /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            children: \"Note Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n              children: goods_details\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 15\n        }, this), loading && /*#__PURE__*/_jsxDEV(Loading, {\n          size: 50\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: ` ${styles['button']} ${projectStyles['button']} `,\n          type: \"submit\",\n          variant: \"primary\",\n          children: \"Add a new goods\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: ` ${styles['button1']} ${projectStyles['button']} `,\n          onClick: resetHandler,\n          variant: \"danger\",\n          children: \"Reset Feilds\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles['text4'],\n          children: [\"Creating on - \", new Date().toLocaleDateString(), /*#__PURE__*/_jsxDEV(\"span\", {\n            dangerouslySetInnerHTML: {\n              __html: ' '\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }, this)\n  );\n}\n\n_s(CreateGoods, \"W7zhWrOc7NV29FUbcLpZFx6rH9s=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = CreateGoods;\nexport default CreateGoods;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateGoods\");","map":{"version":3,"sources":["D:/FYP demo/frontend/src/views/sell-goods-page.js"],"names":["React","useEffect","useState","Button","Card","Form","useDispatch","useSelector","createGoodsAction","Loading","ErrorMessage","ReactMarkdown","projectStyles","styles","CreateGoods","history","goods_name","setGoods_name","goods_details","setGoods_details","goods_category","setGoods_category","goods_pic","setGoods_pic","picMessage","setPicMessage","dispatch","goodsCreate","state","loading","error","goods","console","log","resetHandler","submitHandler","e","preventDefault","push","postDetails","pics","type","data","FormData","append","fetch","method","body","then","res","json","url","toString","catch","err","target","files","value","goods_price","setGoods_price","Date","toLocaleDateString","__html"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\n// import MainScreen from \"../../components/MainScreen\";\nimport { Button, Card, Form } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {createGoodsAction} from \"../actions/goodsActions\";\nimport Loading from \"../components/Loading\";\nimport ErrorMessage from \"../components/ErrorMessage\";\nimport ReactMarkdown from \"react-markdown\";\nimport projectStyles from '../style.module.css'\nimport styles from './sell-goods-page.module.css'\n\nfunction CreateGoods({ history }) {\n  const [goods_name, setGoods_name] = useState(\"\");\n  const [goods_details, setGoods_details] = useState(\"\");\n  const [goods_category, setGoods_category] = useState(\"\");\n  const [goods_pic, setGoods_pic] = useState(\n    \"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg\"\n  );\n  const [picMessage, setPicMessage] = useState(null);\n\n  const dispatch = useDispatch();\n\n  const goodsCreate = useSelector((state) => state.goodsCreate);\n  const { loading, error, goods } = goodsCreate;\n\n  console.log(goods);\n\n  const resetHandler = () => {\n    setGoods_name(\"\");\n    setGoods_details(\"\");\n    setGoods_category(\"\");\n    setGoods_pic(\"\");\n  };\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(createGoodsAction(goods_name, goods_details, goods_category, goods_pic));\n    if (!goods_name || !goods_details || !goods_category) return;\n\n    resetHandler();\n    history.push(\"/\");\n  };\n\n  const postDetails = (pics) => {\n    if (\n      pics ===\n      \"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg\"\n    ) {\n      return setPicMessage(\"Please Select an Image\");\n    }\n    setPicMessage(null);\n    if (pics.type === \"image/jpeg\" || pics.type === \"image/png\") {\n      const data = new FormData();\n      data.append(\"file\", pics);\n      data.append(\"upload_preset\", \"goods_pic\");\n      data.append(\"cloud_name\", \"fyp2022\");\n      fetch(\"https://api.cloudinary.com/v1_1/fyp2022/image/upload\", {\n        method: \"post\",\n        body: data,\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          setGoods_pic(data.url.toString());\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else {\n      return setPicMessage(\"Please Select an Image\");\n    }\n  };\n\n  useEffect(() => {}, []);\n\n  return (\n    // <MainScreen title=\"Create a Note\">\n          <Form onSubmit={submitHandler}>\n            {error && <ErrorMessage variant=\"danger\">{error}</ErrorMessage>}\n            return (\n    <div className={styles['container']}>\n      <Helmet>\n        <title>sellGoodsPage - FYP</title>\n        <meta property=\"og:title\" content=\"sellGoodsPage - FYP\" />\n      </Helmet>\n      <input                    \n        value={goods_pic}\n        type=\"file\"\n        label=\"Upload Profile Picture\"\n        custom\n        accept=\"image/*\"\n        // placeholder=\"Upload Profile Picture\"\n        onChange={(e) => postDetails(e.target.files[0])}\n        className={` ${styles['textinput']} ${projectStyles['input']} `}\n      />\n      <img\n        alt=\"image\"\n        src=\"https://play.teleporthq.io/static/svg/default-img.svg\"\n        className={styles['image']}\n      />\n      <span className={styles['text']}>goods name:</span>\n      <input\n        type=\"text\"\n        value={goods_name}\n        placeholder=\"Enter the goods's name\"\n        onChange={(e) => setGoods_name(e.target.value)}\n        className={` ${styles['textinput1']} ${projectStyles['input']} `}\n      />\n      <span className={styles['text1']}>goods price:</span>\n      <input\n        type=\"text\"\n        value={goods_price}\n        placeholder=\"Enter the goods's price\"\n        onChange={(e) => setGoods_price(e.target.value)}\n        className={` ${styles['textinput2']} ${projectStyles['input']} `}\n      />\n      <span className={styles['text2']}>goods category:</span>\n      <input\n        type=\"content\"\n        value={goods_category}\n        placeholder=\"Enter the Category\"\n        onChange={(e) => setGoods_category(e.target.value)}\n        className={` ${styles['textinput3']} ${projectStyles['input']} `}\n      />\n      <span className={styles['text3']}>goods details:</span>\n      <textarea\n        value={goods_details}\n        placeholder=\"Enter the goods more details\"\n        rows={4}\n        onChange={(e) => setGoods_details(e.target.value)}\n        className={` ${styles['textarea']} ${projectStyles['textarea']} `}\n      ></textarea>\n        {goods_details && (\n              <Card>\n                <Card.Header>Note Preview</Card.Header>\n                <Card.Body>\n                  <ReactMarkdown>{goods_details}</ReactMarkdown>\n                </Card.Body>\n                </Card>\n            )}\n\n            {loading && <Loading size={50} />}\n      <button className={` ${styles['button']} ${projectStyles['button']} `}\n      type=\"submit\" variant=\"primary\">\n          Add a new goods\n      </button>\n      <button className={` ${styles['button1']} ${projectStyles['button']} `}\n      onClick={resetHandler} variant=\"danger\">\n        Reset Feilds\n      </button>\n      <span className={styles['text4']}>\n        Creating on - {new Date().toLocaleDateString()}\n        <span\n          dangerouslySetInnerHTML={{\n            __html: ' ',\n          }}\n        />\n      </span>\n    </div>\n    </Form>\n  );\n}\n\nexport default CreateGoods;"]},"metadata":{},"sourceType":"module"}