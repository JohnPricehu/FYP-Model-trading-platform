{"ast":null,"code":"var _jsxFileName = \"D:\\\\FYP demo\\\\frontend\\\\src\\\\views\\\\ProductScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Form } from 'react-bootstrap';\nimport { Row, Col, Image, ListGroup, Button, Card, FormControl } from 'react-bootstrap';\nimport Rating from '../components/Rating';\nimport Loading from \"../components/Loading\";\nimport ErrorMessage from \"../components/ErrorMessage\";\nimport Meta from '../components/Meta';\nimport { listGoodsDetails, createGoodsReview } from '../actions/goodsActions';\nimport { addToFavouriteAction } from '../actions/favouriteActions';\nimport { addToWantedAction } from '../actions/wantedActions';\nimport { GOODS_CREATE_REVIEW_RESET } from '../constants/goodsConstants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProductScreen = _ref => {\n  _s();\n\n  let {\n    history,\n    match\n  } = _ref;\n  const [qty, setQty] = useState(1);\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState('');\n  const dispatch = useDispatch();\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  const listDetails = useSelector(state => state.goodsDetails);\n  const {\n    loading,\n    good,\n    error\n  } = listDetails;\n  const addFavourite = useSelector(state => state.addFavourite);\n  const {\n    success: successadd,\n    error: erroradd\n  } = addFavourite;\n  const addWanted = useSelector(state => state.addWanted);\n  const {\n    success: successaddwanted,\n    error: erroraddwanted\n  } = addWanted;\n  const productReviewCreate = useSelector(state => state.goodsReviewCreate);\n  const {\n    success: successProductReview,\n    error: errorProductReview\n  } = productReviewCreate;\n  useEffect(() => {\n    if (successProductReview) {\n      alert('Review Submitted!');\n      setRating(0);\n      setComment('');\n      dispatch({\n        type: GOODS_CREATE_REVIEW_RESET\n      });\n    } // if (successadd){\n    //   alert('Add Favourites successfully!')\n    // }\n    // if (successaddwanted){\n    //   alert('Add Wanted successfully!')\n    // }\n\n\n    dispatch(listGoodsDetails(match.params.id));\n  }, [dispatch, match.params.id, successProductReview, successadd, successaddwanted]);\n\n  const addToCartHandler = () => {\n    history.push(`/cart/${match.params.id}/?qty=${qty}`);\n  };\n\n  const addToFavouriteHandler = async (id, user) => {\n    dispatch(addToFavouriteAction(id, user));\n  };\n\n  const addToWantedHandler = async (id, user) => {\n    dispatch(addToWantedAction(id, user));\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(createGoodsReview(match.params.id, {\n      rating,\n      comment\n    })); // dispatch(addToFavouriteAction(match.params.id))\n  }; // console.log(good.reviews.length);\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      style: {\n        backgroundColor: 'rgb(63 57 63)',\n        color: 'white',\n        border: '2px solid pink',\n        borderRadius: '10px',\n        marginTop: '50px',\n        marginBottom: '10px'\n      },\n      className: \"btn btn-light\",\n      to: \"/\",\n      children: \"Go Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(ErrorMessage, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Meta, {\n        title: good.goods_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: good.goods_pic,\n            alt: good.goods_name,\n            fluid: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(ListGroup, {\n            variant: \"flush\",\n            children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: good.goods_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Rating, {\n                value: good.rating,\n                text: `${good.numReviews} reviews`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [\"Price: $ \", good.goods_price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [\"Details: \", good.goods_details]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(ListGroup, {\n              variant: \"flush\",\n              children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Price:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: [\"$ \", good.goods_price]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 147,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Status:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: good.countInStock > 0 ? 'In Stock' : 'Out Of Stock'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 19\n              }, this), good.countInStock > 0 && /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Qty\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(FormControl, {\n                      as: \"select\",\n                      value: qty,\n                      onChange: e => setQty(e.target.value),\n                      children: [...Array(good.countInStock).keys()].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: x + 1,\n                        children: x + 1\n                      }, x + 1, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 174,\n                        columnNumber: 33\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 166,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: !userInfo ? /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                  children: [\"Please \", /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/login\",\n                    children: \"login\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 30\n                  }, this), \" to buy the goods\", ' ']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 21\n                }, this) : good.goods_category === 'special' ? userInfo && !userInfo.isMember ? /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                  children: [\"First you need to be a \", /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/paymember\",\n                    children: \"member\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 46\n                  }, this), \" .\", ' ']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 21\n                }, this) //     <Button\n                //   className='btn-block'\n                //   style={{\n                //     backgroundColor: 'rgb(63 57 63)',\n                //   }}\n                //   type='button'\n                //   disabled={good.countInStock === 0}\n                //   onClick={() => gotobuymemberHandler()}\n                // >\n                //   Be a prime member\n                // </Button>                                                           \n                : good.countInStock > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    onClick: addToCartHandler,\n                    className: \"btn-block\",\n                    style: {\n                      backgroundColor: 'rgb(63 57 63)'\n                    },\n                    type: \"button\",\n                    disabled: good.countInStock === 0,\n                    children: \"Add To Cart\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: () => addToFavouriteHandler(good._id, userInfo._id),\n                    className: \"btn-block\",\n                    style: {\n                      backgroundColor: 'rgb(63 57 63)'\n                    },\n                    type: \"button\",\n                    children: \"Add To Favourite\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    onClick: () => addToFavouriteHandler(good._id, userInfo._id),\n                    className: \"btn-block\",\n                    style: {\n                      backgroundColor: 'rgb(63 57 63)'\n                    },\n                    type: \"button\",\n                    children: \"Add To Favourite\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: () => addToWantedHandler(good._id, userInfo._id),\n                    className: \"btn-block\",\n                    style: {\n                      backgroundColor: 'rgb(63 57 63)'\n                    },\n                    type: \"button\",\n                    children: \"Add To Wanted\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true) : good.countInStock > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    onClick: addToCartHandler,\n                    className: \"btn-block\",\n                    style: {\n                      backgroundColor: 'rgb(63 57 63)'\n                    },\n                    type: \"button\",\n                    disabled: good.countInStock === 0,\n                    children: \"Add To Cart\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: () => addToFavouriteHandler(good._id, userInfo._id),\n                    className: \"btn-block\",\n                    style: {\n                      backgroundColor: 'rgb(63 57 63)'\n                    },\n                    type: \"button\",\n                    children: \"Add To Favourite\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    onClick: () => addToFavouriteHandler(good._id, userInfo._id),\n                    className: \"btn-block\",\n                    style: {\n                      backgroundColor: 'rgb(63 57 63)'\n                    },\n                    type: \"button\",\n                    children: \"Add To Favourite\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: () => addToWantedHandler(good._id, userInfo._id),\n                    className: \"btn-block\",\n                    style: {\n                      backgroundColor: 'rgb(63 57 63)'\n                    },\n                    type: \"button\",\n                    children: \"Add To Wanted\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Reviews\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this), good.reviews.length === 0 && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n            children: \"No Reviews\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 45\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n            variant: \"flush\",\n            children: [good.reviews.map(review => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: review.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Rating, {\n                value: review.rating\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: review.createdAt.substring(0, 10)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: review.comment\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 21\n              }, this)]\n            }, review._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 19\n            }, this)), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Write a Customer Review\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 19\n              }, this), errorProductReview && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                variant: \"danger\",\n                children: errorProductReview\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 21\n              }, this), userInfo ? /*#__PURE__*/_jsxDEV(Form, {\n                onSubmit: submitHandler,\n                children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"rating\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Rating\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    as: \"select\",\n                    value: rating,\n                    onChange: e => setRating(e.target.value),\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"Select...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 347,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"1\",\n                      children: \"1- Poor\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 348,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"2\",\n                      children: \"2- Fair\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 349,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"3\",\n                      children: \"3- Good\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 350,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"4\",\n                      children: \"4- Very Good\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 351,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"5\",\n                      children: \"5- Excellent\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 352,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"comment\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Comment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    as: \"textarea\",\n                    row: \"3\",\n                    value: comment,\n                    onChange: e => setComment(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  variant: \"primary\",\n                  style: {\n                    backgroundColor: 'rgb(63 57 63)'\n                  },\n                  children: \"Submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                children: [\"Please \", /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/login\",\n                  children: \"login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 30\n                }, this), \" to write a review\", ' ']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n};\n\n_s(ProductScreen, \"k4uiH4MCXJ6ibL/OwoUxiAnJYPY=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = ProductScreen;\nexport default ProductScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductScreen\");","map":{"version":3,"sources":["D:/FYP demo/frontend/src/views/ProductScreen.js"],"names":["React","useState","useEffect","useDispatch","useSelector","Link","Form","Row","Col","Image","ListGroup","Button","Card","FormControl","Rating","Loading","ErrorMessage","Meta","listGoodsDetails","createGoodsReview","addToFavouriteAction","addToWantedAction","GOODS_CREATE_REVIEW_RESET","ProductScreen","history","match","qty","setQty","rating","setRating","comment","setComment","dispatch","userLogin","state","userInfo","listDetails","goodsDetails","loading","good","error","addFavourite","success","successadd","erroradd","addWanted","successaddwanted","erroraddwanted","productReviewCreate","goodsReviewCreate","successProductReview","errorProductReview","alert","type","params","id","addToCartHandler","push","addToFavouriteHandler","user","addToWantedHandler","submitHandler","e","preventDefault","backgroundColor","color","border","borderRadius","marginTop","marginBottom","goods_name","goods_pic","numReviews","goods_price","goods_details","countInStock","target","value","Array","keys","map","x","goods_category","isMember","_id","reviews","length","review","name","createdAt","substring"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { Form } from 'react-bootstrap'\nimport {\n  Row,\n  Col,\n  Image,\n  ListGroup,\n  Button,\n  Card,\n  FormControl,\n} from 'react-bootstrap'\nimport Rating from '../components/Rating'\nimport Loading from \"../components/Loading\";\nimport ErrorMessage from \"../components/ErrorMessage\";\nimport Meta from '../components/Meta'\nimport {\n  listGoodsDetails,\n  createGoodsReview,\n} from '../actions/goodsActions'\nimport {\n  addToFavouriteAction\n} from '../actions/favouriteActions'\nimport {\n  addToWantedAction\n} from '../actions/wantedActions'\nimport { GOODS_CREATE_REVIEW_RESET } from '../constants/goodsConstants'\n\nconst ProductScreen = ({ history, match }) => {\n  const [qty, setQty] = useState(1)\n  const [rating, setRating] = useState(0)\n  const [comment, setComment] = useState('')\n\n  const dispatch = useDispatch()\n\n  const userLogin = useSelector((state) => state.userLogin)\n  const { userInfo } = userLogin\n\n  const listDetails = useSelector((state) => state.goodsDetails)\n  const { loading, good, error } = listDetails\n\n  const addFavourite = useSelector((state) => state.addFavourite);\n  const { success: successadd,\n    error: erroradd, } = addFavourite;\n\n    const addWanted = useSelector((state) => state.addWanted);\n    const { success: successaddwanted,\n      error: erroraddwanted, } = addWanted;\n\n  const productReviewCreate = useSelector((state) => state.goodsReviewCreate)\n  const {\n    success: successProductReview,\n    error: errorProductReview,\n  } = productReviewCreate\n\n\n  useEffect(() => {\n    if (successProductReview) {\n      alert('Review Submitted!')\n      setRating(0)\n      setComment('')\n      dispatch({ type: GOODS_CREATE_REVIEW_RESET })\n    }\n    // if (successadd){\n    //   alert('Add Favourites successfully!')\n    // }\n    // if (successaddwanted){\n    //   alert('Add Wanted successfully!')\n    // }\n    dispatch(listGoodsDetails(match.params.id))\n    \n  }, [dispatch, match.params.id,  \n    successProductReview,\n    successadd,\n    successaddwanted\n  ])\n\n  const addToCartHandler = () => {\n    history.push(`/cart/${match.params.id}/?qty=${qty}`)\n  }\n  const addToFavouriteHandler = async (id, user) => {\n      dispatch(addToFavouriteAction(id,user))\n  }\n\n  const addToWantedHandler = async (id, user) => {\n    dispatch(addToWantedAction(id,user))\n}\n\n  const submitHandler = (e) => {\n    e.preventDefault()\n    dispatch(createGoodsReview(match.params.id, { rating, comment }))\n    // dispatch(addToFavouriteAction(match.params.id))\n  }\n  // console.log(good.reviews.length);\n  return (\n    <>\n      <Link\n        style={{\n          backgroundColor: 'rgb(63 57 63)',\n          color: 'white',\n          border: '2px solid pink',\n          borderRadius: '10px',\n          marginTop: '50px',\n          marginBottom: '10px',\n        }}\n        className='btn btn-light'\n        to='/'\n      >\n        Go Back\n      </Link>\n      {loading ? (\n        <Loading />\n      ) : error ? (\n        <ErrorMessage variant='danger'>{error}</ErrorMessage>\n      ) : (\n        <>\n          <Meta title={good.goods_name} />\n          <Row>\n            <Col md={6}>\n              <Image src={good.goods_pic} alt={good.goods_name} fluid />\n            </Col>\n            <Col md={3}>\n              <ListGroup variant='flush'>\n                <ListGroup.Item>\n                  <h3>{good.goods_name}</h3>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  <Rating\n                    value={good.rating}\n                    text={`${good.numReviews} reviews`}\n                  />\n                </ListGroup.Item>\n                <ListGroup.Item>Price: $ {good.goods_price}</ListGroup.Item>\n                <ListGroup.Item>\n                  Details: {good.goods_details}\n                </ListGroup.Item>\n              </ListGroup>\n            </Col>\n            <Col md={3}>\n              <Card>\n                <ListGroup variant='flush'>\n                  <ListGroup.Item>\n                    <Row>\n                      <Col>Price:</Col>\n                      <Col>\n                        <strong>$ {good.goods_price}</strong>\n                      </Col>\n                    </Row>\n                  </ListGroup.Item>\n\n                  <ListGroup.Item>\n                    <Row>\n                      <Col>Status:</Col>\n                      <Col>\n                        {good.countInStock > 0 ? 'In Stock' : 'Out Of Stock'}\n                      </Col>\n                    </Row>\n                  </ListGroup.Item>\n\n                  {good.countInStock > 0 && (\n                    <ListGroup.Item>\n                      <Row>\n                        <Col>Qty</Col>\n                        <Col>\n                          <FormControl\n                            as='select'\n                            value={qty}\n                            onChange={(e) => setQty(e.target.value)}\n                          >\n                            {/* this line mean if we have five item in the array it will show like this [0, 1, 2, 3, 4] */}\n                            {[...Array(good.countInStock).keys()].map(\n                              (x) => (\n                                <option key={x + 1} value={x + 1}>\n                                  {x + 1}\n                                </option>\n                              )\n                            )}\n                          </FormControl>\n                        </Col>\n                      </Row>\n                    </ListGroup.Item>\n                  )}\n                  \n                  <ListGroup.Item>\n                      {!userInfo ?(\n                    <ErrorMessage>\n                      Please <Link to='/login'>login</Link> to buy the goods{' '}\n                    </ErrorMessage>\n                    ):\n                    (good.goods_category === 'special' ? (\n                      userInfo && !userInfo.isMember ? (\n                    <ErrorMessage>\n                      First you need to be a <Link to='/paymember'>member</Link> .{' '}\n                    </ErrorMessage>                       \n                    //     <Button\n                    //   className='btn-block'\n                    //   style={{\n                    //     backgroundColor: 'rgb(63 57 63)',\n                    //   }}\n                    //   type='button'\n                    //   disabled={good.countInStock === 0}\n                    //   onClick={() => gotobuymemberHandler()}\n                    // >\n                    //   Be a prime member\n                    // </Button>                                                           \n                    ):(\n                      good.countInStock > 0 ? (\n                      <>\n                      <Button\n                    onClick={addToCartHandler}\n                    className='btn-block'\n                    style={{\n                      backgroundColor: 'rgb(63 57 63)',\n                    }}\n                    type='button'\n                    disabled={good.countInStock === 0}\n                  >\n                    Add To Cart\n                  </Button>\n                  <Button\n                        onClick={() => addToFavouriteHandler(good._id,userInfo._id)}\n                        className='btn-block'\n                        style={{\n                          backgroundColor: 'rgb(63 57 63)',\n                        }}\n                        type='button'\n                      >\n                        Add To Favourite\n                      </Button>\n                      </>\n                      ):\n                      (\n                        <>\n                        <Button\n                        onClick={() => addToFavouriteHandler(good._id,userInfo._id)}\n                        className='btn-block'\n                        style={{\n                          backgroundColor: 'rgb(63 57 63)',\n                        }}\n                        type='button'\n                      >\n                        Add To Favourite\n                      </Button>\n                      <Button\n                        onClick={() => addToWantedHandler(good._id,userInfo._id)}\n                        className='btn-block'\n                        style={{\n                          backgroundColor: 'rgb(63 57 63)',\n                        }}\n                        type='button'\n                      >\n                        Add To Wanted\n                      </Button>\n                      </>\n                      )\n                      )):(\n                        good.countInStock > 0 ? (\n                          <>\n                          <Button\n                        onClick={addToCartHandler}\n                        className='btn-block'\n                        style={{\n                          backgroundColor: 'rgb(63 57 63)',\n                        }}\n                        type='button'\n                        disabled={good.countInStock === 0}\n                      >\n                        Add To Cart\n                      </Button>\n                      <Button\n                            onClick={() => addToFavouriteHandler(good._id,userInfo._id)}\n                            className='btn-block'\n                            style={{\n                              backgroundColor: 'rgb(63 57 63)',\n                            }}\n                            type='button'\n                          >\n                            Add To Favourite\n                          </Button>\n                          </>\n                          ):\n                          (\n                            <>\n                            <Button\n                            onClick={() => addToFavouriteHandler(good._id,userInfo._id)}\n                            className='btn-block'\n                            style={{\n                              backgroundColor: 'rgb(63 57 63)',\n                            }}\n                            type='button'\n                          >\n                            Add To Favourite\n                          </Button>\n                          <Button\n                            onClick={() => addToWantedHandler(good._id,userInfo._id)}\n                            className='btn-block'\n                            style={{\n                              backgroundColor: 'rgb(63 57 63)',\n                            }}\n                            type='button'\n                          >\n                            Add To Wanted\n                          </Button>\n                          </>\n                      )\n                      \n                      )\n                    )\n      \n                    }\n                  \n                  </ListGroup.Item>\n                  \n                </ListGroup>\n              </Card>\n            </Col>\n          </Row>\n\n          <Row>\n            <Col md={6}>\n              <h2>Reviews</h2>\n              {good.reviews.length === 0 && <ErrorMessage>No Reviews</ErrorMessage>}\n              <ListGroup variant='flush'>\n                {good.reviews.map((review) => (\n                  <ListGroup.Item key={review._id}>\n                    <strong>{review.name}</strong>\n                    <Rating value={review.rating} />\n                    <p>{review.createdAt.substring(0, 10)}</p>\n                    <p>{review.comment}</p>\n                  </ListGroup.Item>\n                ))}\n                <ListGroup.Item>\n                  <h2>Write a Customer Review</h2>\n                  {errorProductReview && (\n                    <ErrorMessage variant='danger'>{errorProductReview}</ErrorMessage>\n                  )}\n                  {userInfo ? (\n                    <Form onSubmit={submitHandler}>\n                      <Form.Group controlId='rating'>\n                        <Form.Label>Rating</Form.Label>\n                        <Form.Control\n                          as='select'\n                          value={rating}\n                          onChange={(e) => setRating(e.target.value)}\n                        >\n                          <option value=''>Select...</option>\n                          <option value='1'>1- Poor</option>\n                          <option value='2'>2- Fair</option>\n                          <option value='3'>3- Good</option>\n                          <option value='4'>4- Very Good</option>\n                          <option value='5'>5- Excellent</option>\n                        </Form.Control>\n                      </Form.Group>\n                      <Form.Group controlId='comment'>\n                        <Form.Label>Comment</Form.Label>\n                        <Form.Control\n                          as='textarea'\n                          row='3'\n                          value={comment}\n                          onChange={(e) => setComment(e.target.value)}\n                        ></Form.Control>\n                      </Form.Group>\n                      <Button\n                        type='submit'\n                        variant='primary'\n                        style={{\n                          backgroundColor: 'rgb(63 57 63)',\n                        }}\n                      >\n                        Submit\n                      </Button>\n                    </Form>\n                  ) : (\n                    <ErrorMessage>\n                      Please <Link to='/login'>login</Link> to write a review{' '}\n                    </ErrorMessage>\n                  )}\n                </ListGroup.Item>\n              </ListGroup>\n            </Col>\n          </Row>\n        </>\n      )}\n    </>\n  )\n}\n\nexport default ProductScreen\n"]},"metadata":{},"sourceType":"module"}