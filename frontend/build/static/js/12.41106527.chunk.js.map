{"version":3,"sources":["../node_modules/react-bootstrap/esm/Table.js","actions/wantedActions.js","views/wanted.js"],"names":["Table","React","forwardRef","_ref","ref","bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive","props","_objectWithoutPropertiesLoose","decoratedBsPrefix","useBootstrapPrefix","classes","classNames","table","createElement","_extends","responsiveClass","addToWantedAction","id","user","dispatch","getState","a","type","WANTED_ADD_REQUEST","userInfo","userLogin","config","headers","Authorization","token","axios","post","data","WANTED_ADD_SUCCESS","payload","message","response","WANTED_ADD_FAIL","deleteWantedAction","WANTED_REMOVE_REQUEST","delete","WANTED_REMOVE_SUCCESS","WANTED_REMOVE_FAIL","listMyWanted","WANTED_REQUEST","get","WANTED_SUCCESS","WANTED_FAIL","WantedScreen","history","useDispatch","myWanted","useSelector","state","loadingwanteds","loading","errorwanteds","error","mwanteds","useEffect","deleteWantedHandler","window","confirm","go","addToHistoryHandler","addToHistoryAction","map","wanted","width","height","alt","product","goods_name","src","goods_pic","goods_price","countInStock","style","color","to","_id","onClick"],"mappings":"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","file":"static/js/12.41106527.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;","import {\r\n    WANTED_ADD_REQUEST,\r\n    WANTED_ADD_SUCCESS,\r\n    WANTED_ADD_FAIL,\r\n    WANTED_REMOVE_REQUEST,\r\n    WANTED_REMOVE_SUCCESS,\r\n    WANTED_REMOVE_FAIL,\r\n    WANTED_REQUEST,\r\n    WANTED_SUCCESS,\r\n    WANTED_FAIL,\r\n  } from \"../constants/wantedConstants\";\r\nimport axios from \"axios\";\r\n\r\nexport const addToWantedAction = (id ,user ) => async (dispatch,getState) => {\r\n    try {\r\n      dispatch({\r\n        type: WANTED_ADD_REQUEST,\r\n      });\r\n  \r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState();\r\n  \r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      };\r\n  \r\n      const { data } = await axios.post(`/api/wanted/goods/${id}`, user, config);\r\n  \r\n      dispatch({\r\n        type: WANTED_ADD_SUCCESS,\r\n        payload: data,\r\n      });\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message;\r\n      dispatch({\r\n        type: WANTED_ADD_FAIL,\r\n        payload: message,\r\n      });\r\n    }\r\n  };\r\n\r\n  export const deleteWantedAction = (id) => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: WANTED_REMOVE_REQUEST,\r\n      });\r\n  \r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState();\r\n  \r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      };\r\n  \r\n      const { data } = await axios.delete(`/api/wanted/goods/${id}`, config);\r\n  \r\n      dispatch({\r\n        type: WANTED_REMOVE_SUCCESS,\r\n        payload: data,\r\n      });\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message;\r\n      dispatch({\r\n        type: WANTED_REMOVE_FAIL,\r\n        payload: message,\r\n      });\r\n    }\r\n  };\r\n\r\n  export const listMyWanted= () => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({ type: WANTED_REQUEST })\r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState()\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      }\r\n      const { data } = await axios.get(`/api/wanted/myWANTED`, config)\r\n  \r\n      dispatch({ type: WANTED_SUCCESS, payload: data })\r\n    } catch (error) {\r\n      dispatch({\r\n        type: WANTED_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      })\r\n    }\r\n  }","/* eslint-disable react-hooks/rules-of-hooks */\r\nimport React, { useEffect } from 'react'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { Button, Table } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport ErrorMessage from '../components/ErrorMessage'\r\nimport Loading from '../components/Loading'\r\nimport { listMyWanted,deleteWantedAction  } from '../actions/wantedActions'\r\nimport {\r\n  addToHistoryAction\r\n} from '../actions/historyAction.js'\r\n\r\n\r\nconst WantedScreen = ({ history }) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const  myWanted= useSelector((state) => state.myWanted)\r\n  const { loading: loadingwanteds, error: errorwanteds, mwanteds } =  myWanted\r\n\r\n  const userLogin = useSelector((state) => state.userLogin)\r\n  const { userInfo } = userLogin\r\n\r\n  // const addHistory = useSelector((state) => state.addHistory);\r\n  // const { success: successaddhistory,\r\n  //   error: erroraddhistory } = addHistory;\r\n\r\n\r\n\r\n  useEffect(() => {\r\n        dispatch(listMyWanted())\r\n  }, [dispatch, history, userInfo])\r\n\r\n\r\n  const deleteWantedHandler = async (id) => {\r\n    if (window.confirm('Are you sure ?')) {\r\n      dispatch(deleteWantedAction(id))\r\n      history.go(0)\r\n    }\r\n  }\r\n\r\n  const addToHistoryHandler = async (id, user) => {\r\n    dispatch(addToHistoryAction(id,user))\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h1 className='mt-5'>My Wanted</h1>\r\n          {loadingwanteds ? (\r\n          <Loading />\r\n        ) : errorwanteds ? (\r\n          <ErrorMessage variant='danger'>{errorwanteds}</ErrorMessage>\r\n        ) : (\r\n          <Table striped bordered hover responsive className='tabel-sm'>\r\n            <thead>\r\n              <tr>\r\n                <th>Photo</th>\r\n                <th>Name</th>\r\n                <th>Price</th>\r\n                <th>Count In Stock</th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {mwanteds.map((wanted) => (\r\n                  \r\n                <tr key={wanted._id}>\r\n                  <td>\r\n                    {' '}\r\n                    <img\r\n                      width='50'\r\n                      height='50'\r\n                      alt={wanted.product && wanted.product.goods_name}\r\n                      src={wanted.product && wanted.product.goods_pic}\r\n                    />{' '}\r\n                  </td>\r\n                  <td>{wanted.product && wanted.product.goods_name}</td>\r\n                  <td>${wanted.product && wanted.product.goods_price}</td>\r\n                  <td>\r\n                  {wanted.product && wanted.product.countInStock <= 0 ? (\r\n                    <i className='fas fa-times' style={{ color: 'red' }}>No count</i>\r\n                  ) : (\r\n                    <i className='fas fa-times' style={{ color: 'green' }}>{wanted.product && wanted.product.countInStock}</i>\r\n                  )}\r\n                    \r\n                    </td>\r\n                  <td>\r\n                    <LinkContainer to={`/goods/${wanted.product && wanted.product._id}`} onClick={() => addToHistoryHandler(wanted.product && wanted.product._id,userInfo._id)}>\r\n                      <Button className='btn-sm' variant='light'>\r\n                        Details\r\n                      </Button>\r\n                    </LinkContainer>\r\n                    <Button\r\n                      variant='danger'\r\n                      className='btn-sm'\r\n                      onClick={() => deleteWantedHandler(wanted.product && wanted.product._id)}\r\n                    >\r\n                      <i className='fas fa-trash'>Delete</i>\r\n                    </Button>\r\n                  </td>\r\n                </tr>           \r\n              ))         \r\n              }\r\n            </tbody>\r\n          </Table>\r\n        )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default WantedScreen"],"sourceRoot":""}