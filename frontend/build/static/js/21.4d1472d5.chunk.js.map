{"version":3,"sources":["../node_modules/react-bootstrap/esm/Table.js","views/history.js"],"names":["Table","React","forwardRef","_ref","ref","bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive","props","_objectWithoutPropertiesLoose","decoratedBsPrefix","useBootstrapPrefix","classes","classNames","table","createElement","_extends","responsiveClass","HistoryScreen","history","dispatch","useDispatch","myHistory","useSelector","state","loadinghistory","loading","errorhistory","error","mhistorys","userInfo","userLogin","addHistory","success","useEffect","listMyHistory","addToHistoryHandler","id","user","a","addToHistoryAction","map","historys","width","height","alt","product","goods_name","src","goods_pic","goods_price","to","_id","onClick"],"mappings":"uGAAA,yDAKIA,EAAQC,IAAMC,YAAW,SAAUC,EAAMC,GAC3C,IAAIC,EAAWF,EAAKE,SAChBC,EAAYH,EAAKG,UACjBC,EAAUJ,EAAKI,QACfC,EAAWL,EAAKK,SAChBC,EAAaN,EAAKM,WAClBC,EAAQP,EAAKO,MACbC,EAAOR,EAAKQ,KACZC,EAAUT,EAAKS,QACfC,EAAaV,EAAKU,WAClBC,EAAQC,YAA8BZ,EAAM,CAAC,WAAY,YAAa,UAAW,WAAY,aAAc,QAAS,OAAQ,UAAW,eAEvIa,EAAoBC,YAAmBZ,EAAU,SACjDa,EAAUC,IAAWb,EAAWU,EAAmBJ,GAAWI,EAAoB,IAAMJ,EAASD,GAAQK,EAAoB,IAAML,EAAMJ,GAAWS,EAAoB,WAAYR,GAAYQ,EAAoB,YAAaP,GAAcO,EAAoB,cAAeN,GAASM,EAAoB,UAC/SI,EAAqBnB,IAAMoB,cAAc,QAASC,YAAS,GAAIR,EAAO,CACxER,UAAWY,EACXd,IAAKA,KAGP,GAAIS,EAAY,CACd,IAAIU,EAAkBP,EAAoB,cAM1C,MAJ0B,kBAAfH,IACTU,EAAkBA,EAAkB,IAAMV,GAGxBZ,IAAMoB,cAAc,MAAO,CAC7Cf,UAAWiB,GACVH,GAGL,OAAOA,KAEMpB,O,4IC8CAwB,UA3EO,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACjBC,EAAWC,cAEVC,EAAYC,aAAY,SAACC,GAAD,OAAWA,EAAMF,aAC/BG,EAAoDH,EAA7DI,QAAgCC,EAA6BL,EAApCM,MAAqBC,EAAeP,EAAfO,UAG9CC,EADUP,aAAY,SAACC,GAAD,OAAWA,EAAMO,aACvCD,SAEFE,EAAaT,aAAY,SAACC,GAAD,OAAWA,EAAMQ,cAEnBA,EADrBC,QACqBD,EAA3BJ,MAIFM,qBAAU,WACJd,EAASe,iBACZ,CAACf,EAAUD,EAASW,IAEvB,IAAMM,EAAmB,uCAAG,WAAOC,EAAIC,GAAX,SAAAC,EAAA,sDAC1BnB,EAASoB,YAAmBH,EAAGC,IADL,2CAAH,wDAKzB,OACE,qCACE,oBAAItC,UAAU,OAAd,qBACKyB,EACD,cAAC,IAAD,IACEE,EACF,cAAC,IAAD,CAAcrB,QAAQ,SAAtB,SAAgCqB,IAEhC,eAAC,IAAD,CAAO1B,SAAO,EAACC,UAAQ,EAACE,OAAK,EAACG,YAAU,EAACP,UAAU,WAAnD,UACE,gCACE,+BACE,uCACA,sCAGA,uCAGA,4BAGJ,gCACG6B,EAAUY,KAAI,SAACC,GAAD,OACb,+BACE,+BACG,IACD,qBACEC,MAAM,KACNC,OAAO,KACPC,IAAKH,EAASI,SAAWJ,EAASI,QAAQC,WAC1CC,IAAKN,EAASI,SAAWJ,EAASI,QAAQG,YACzC,OAEL,6BAAKP,EAASI,SAAWJ,EAASI,QAAQC,aAC1C,mCAAML,EAASI,SAAWJ,EAASI,QAAQI,eAC3C,6BACE,cAAC,gBAAD,CAAeC,GAAE,iBAAYT,EAASI,SAAWJ,EAASI,QAAQM,KAAMC,QAAS,kBAAMjB,EAAoBM,EAASI,SAAWJ,EAASI,QAAQM,IAAItB,EAASsB,MAA7J,SACE,cAAC,IAAD,CAAQpD,UAAU,SAASM,QAAQ,QAAnC,2BAdGoC,EAASU","file":"static/js/21.4d1472d5.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;","/* eslint-disable react-hooks/rules-of-hooks */\r\nimport React, { useEffect } from 'react'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { Button, Table } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport ErrorMessage from '../components/ErrorMessage'\r\nimport Loading from '../components/Loading'\r\nimport { listMyHistory,addToHistoryAction } from '../actions/historyAction.js'\r\n\r\nconst HistoryScreen = ({ history }) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const  myHistory = useSelector((state) => state.myHistory)\r\n  const { loading: loadinghistory, error: errorhistory, mhistorys } =  myHistory\r\n\r\n  const userLogin = useSelector((state) => state.userLogin)\r\n  const { userInfo } = userLogin\r\n\r\n  const addHistory = useSelector((state) => state.addHistory);\r\n  const { success: successaddhistory,\r\n    error: erroraddhistory } = addHistory;\r\n\r\n\r\n\r\n  useEffect(() => {\r\n        dispatch(listMyHistory())\r\n  }, [dispatch, history, userInfo])\r\n\r\n  const addToHistoryHandler = async (id, user) => {\r\n    dispatch(addToHistoryAction(id,user))\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <h1 className='mt-5'>History</h1>\r\n          {loadinghistory ? (\r\n          <Loading />\r\n        ) : errorhistory ? (\r\n          <ErrorMessage variant='danger'>{errorhistory}</ErrorMessage>\r\n        ) : (\r\n          <Table striped bordered hover responsive className='tabel-sm'>\r\n            <thead>\r\n              <tr>\r\n                <th>Photo</th>\r\n                <th>Name</th>\r\n                {/* <th>Create Date</th>\r\n                <th>Latest Transaction</th> */}\r\n                <th>Price</th>\r\n                {/* <th>Count In Stock</th>\r\n                <th>Sales</th> */}\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {mhistorys.map((historys) => (\r\n                <tr key={historys._id}>\r\n                  <td>\r\n                    {' '}\r\n                    <img\r\n                      width='50'\r\n                      height='50'\r\n                      alt={historys.product && historys.product.goods_name}\r\n                      src={historys.product && historys.product.goods_pic}\r\n                    />{' '}\r\n                  </td>\r\n                  <td>{historys.product && historys.product.goods_name}</td>\r\n                  <td>${historys.product && historys.product.goods_price}</td>\r\n                  <td>\r\n                    <LinkContainer to={`/goods/${historys.product && historys.product._id}`}onClick={() => addToHistoryHandler(historys.product && historys.product._id,userInfo._id)}>\r\n                      <Button className='btn-sm' variant='light'>\r\n                        Details\r\n                      </Button>\r\n                    </LinkContainer>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n        )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default HistoryScreen"],"sourceRoot":""}