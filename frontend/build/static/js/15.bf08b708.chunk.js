(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[15],{158:function(e,t,n){"use strict";n(0);var a=n(150),c=n(152),o=n(99),r=n(1);t.a=function(e){var t=e.children;return Object(r.jsx)(a.a,{children:Object(r.jsx)(c.a,{className:"justify-content-md-center",children:Object(r.jsx)(o.a,{xs:12,md:6,children:t})})})}},170:function(e,t,n){"use strict";n.r(t);var a=n(30),c=n(0),o=n(21),r=n(155),i=n(100),s=n(16),l=n(43),j=n(42),u=n(158),d=n(44),b=n(7),p=n(1);t.default=function(e){var t=e.match,n=e.history,g=t.params.id,h=Object(c.useState)(""),O=Object(a.a)(h,2),m=O[0],x=O[1],f=Object(c.useState)(0),y=Object(a.a)(f,2),v=y[0],S=y[1],_=Object(c.useState)(""),I=Object(a.a)(_,2),C=I[0],k=I[1],E=Object(c.useState)(0),G=Object(a.a)(E,2),L=G[0],D=G[1],w=Object(c.useState)(""),N=Object(a.a)(w,2),P=N[0],F=N[1],J=Object(c.useState)(null),U=Object(a.a)(J,1)[0],B=Object(c.useState)(""),M=Object(a.a)(B,2),q=M[0],z=M[1],A=Object(s.b)(),H=Object(s.c)((function(e){return e.goodsDetails})),K=H.loading,Q=H.error,R=H.good,T=Object(s.c)((function(e){return e.goodsUpdate})),V=T.loading,W=T.error,X=T.success;Object(c.useEffect)((function(){X?(A({type:b.I}),n.push("/admin/productlist")):R.goods_name&&R._id===g?(x(R.goods_name),S(R.goods_price),z(R.goods_pic),k(R.goods_category),D(R.countInStock),F(R.goods_details)):A(Object(d.g)(g))}),[A,n,R,g,X]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(o.Link,{to:"/admin/productlist",className:"btn btn-light my-3",children:"Go Back"}),Object(p.jsxs)(u.a,{children:[Object(p.jsx)("h1",{children:"Edit Model"}),V&&Object(p.jsx)(l.a,{}),W&&Object(p.jsx)(j.a,{variant:"danger",children:W}),K?Object(p.jsx)(l.a,{}):Q?Object(p.jsx)(j.a,{variant:"danger",children:Q}):Object(p.jsxs)(r.a,{onSubmit:function(e){e.preventDefault(),A(Object(d.k)({_id:g,goods_name:m,goods_price:v,goods_pic:q,goods_category:C,goods_details:P,countInStock:L}))},children:[Object(p.jsxs)(r.a.Group,{controlId:"name",children:[Object(p.jsx)(r.a.Label,{children:"Name"}),Object(p.jsx)(r.a.Control,{type:"name",placeholder:"Enter name",value:m,onChange:function(e){return x(e.target.value)}})]}),Object(p.jsxs)(r.a.Group,{controlId:"price",children:[Object(p.jsx)(r.a.Label,{children:"Price"}),Object(p.jsx)(r.a.Control,{type:"number",placeholder:"Enter price",value:v,onChange:function(e){return S(e.target.value)}})]}),Object(p.jsxs)(r.a.Group,{controlId:"image",children:[Object(p.jsx)(r.a.Label,{children:"Image"}),"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg"===q?Object(p.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return function(e){if("https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg"===e)return U("Please Select an Image");if(U(null),"image/jpeg"!==e.type&&"image/png"!==e.type)return U("Please Select an Image");var t=new FormData;t.append("file",e),t.append("upload_preset","goods_pic"),t.append("cloud_name","fyp2022"),fetch("https://api.cloudinary.com/v1_1/fyp2022/image/upload",{method:"post",body:t}).then((function(e){return e.json()})).then((function(e){z(e.url.toString())})).catch((function(e){console.log(e)}))}(e.target.files[0])}}):Object(p.jsx)("p",{children:"Image Selected !!!!"}),"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg"===q?Object(p.jsx)("p",{children:"no image"}):Object(p.jsx)("img",{height:"100",width:"100",src:q,alt:m})]}),Object(p.jsxs)(r.a.Group,{controlId:"countInStock",children:[Object(p.jsx)(r.a.Label,{children:"Count In Stock"}),Object(p.jsx)(r.a.Control,{type:"number",placeholder:"Enter countInStock",value:L,onChange:function(e){return D(e.target.value)}})]}),Object(p.jsxs)(r.a.Group,{controlId:"category",children:[Object(p.jsx)(r.a.Label,{children:"Category"}),Object(p.jsx)(r.a.Control,{type:"text",placeholder:"Enter category",value:C,onChange:function(e){return k(e.target.value)}})]}),Object(p.jsxs)(r.a.Group,{controlId:"description",children:[Object(p.jsx)(r.a.Label,{children:"Details"}),Object(p.jsx)(r.a.Control,{type:"text",placeholder:"Enter Details ",value:P,onChange:function(e){return F(e.target.value)}})]}),Object(p.jsx)(i.a,{type:"submit",variant:"primary",children:"Update"})]})]})]})}}}]);
//# sourceMappingURL=15.bf08b708.chunk.js.map